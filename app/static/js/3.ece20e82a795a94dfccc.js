webpackJsonp([3],{"7XO2":function(t,n){},SDin:function(t,n,e){"use strict";var s={render:function(){var t=this.$createElement,n=this._self._c||t;return n("mt-swipe",{attrs:{auto:4e3}},this._l(this.lunbotuList,function(t){return n("mt-swipe-item",{key:t.id},[n("img",{staticClass:"{'full': isfull}",attrs:{src:t.img,alt:""}})])}),1)},staticRenderFns:[]};var a=e("VU/8")({name:"swiper",data:function(){return{}},props:["lunbotuList","isfull"]},s,!1,function(t){e("7XO2")},"data-v-5e9b42ab",null);n.a=a.exports},XLmU:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("Xxa5"),a=e.n(s),i=e("exGp"),o=e.n(i),r=e("SDin"),u=e("4M9o"),c=e.n(u),d={name:"numbox",mounted:function(){c()(".mui-numbox").numbox(),c()(".mui-numbox").numbox().setOption("step",1)},methods:{changeNumber:function(){this.$emit("changeNum",parseInt(this.$refs.numbox.value))}},props:["max"],watch:{max:function(t,n){c()(".mui-numbox").numbox().setOption("max",t)}}},m={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"mui-numbox",attrs:{"data-numbox-min":"1","data-numbox-max":"max"}},[n("button",{staticClass:"mui-btn mui-btn-numbox-minus",attrs:{type:"button"}},[this._v("-")]),this._v(" "),n("input",{ref:"numbox",staticClass:"mui-input-numbox",attrs:{id:"test",type:"number",value:"1"},on:{change:this.changeNumber}}),this._v(" "),n("button",{staticClass:"mui-btn mui-btn-numbox-plus",attrs:{type:"button"}},[this._v("+")])])},staticRenderFns:[]};var l=e("VU/8")(d,m,!1,function(t){e("phfx")},"data-v-6f872b18",null).exports,f=(e("YaEn"),{name:"goodsInfo",data:function(){return{id:this.$route.params.id,photolunbotuList:[],goodsInfo:[],goodsDesc:[],ballShow:!1,cartNumber:1,countMax:""}},components:{swiper:r.a,numbox:l},created:function(){this.getGoodsLunbotu(),this.getGoodsInfo()},methods:{getGoodsLunbotu:function(){var t=this;return o()(a.a.mark(function n(){var e,s;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("api/getthumimages/"+t.id);case 2:e=n.sent,0===(s=e.data).status&&(s.message.forEach(function(t){t.img=t.src}),t.photolunbotuList=s.message);case 5:case"end":return n.stop()}},n,t)}))()},getGoodsInfo:function(){var t=this;return o()(a.a.mark(function n(){var e,s;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$http.get("api/goods/getinfo/"+t.id);case 2:e=n.sent,0===(s=e.data).status&&(t.goodsInfo=s.message[0]);case 5:case"end":return n.stop()}},n,t)}))()},goDesc:function(t){this.$router.push({name:"goodsdesc",params:{id:t}})},goComment:function(t){this.$router.push({name:"goodscomment",params:{id:t}})},addCart:function(){this.ballShow=!this.ballShow;var t={id:this.id,price:this.goodsInfo.sell_price,count:this.cartNumber,selected:!0};this.$store.commit("addtoCart",t)},changeCount:function(t){this.cartNumber=t},beforeEnter:function(t){t.style.transform="translate( 0, 0)",t.style.opacity=1},enter:function(t,n){var e=this.$refs.ball.getBoundingClientRect(),s=document.getElementById("badge").getBoundingClientRect(),a=s.left-e.left,i=s.top-e.top;t.offsetWidth,t.style.transform="translate( "+a+"px, "+i+"px )",t.style.transition="all 0.5s cubic-bezier(.46,-0.4,1,.49)",n()},afterEnter:function(t){this.ballShow=!this.ballShow}}}),v={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.ballShow,expression:"ballShow"}],ref:"ball",staticClass:"ball"})]),t._v(" "),e("div",{staticClass:"goodsInfo-container"},[e("div",{staticClass:"mui-card"},[e("div",{staticClass:"mui-card-content"},[e("div",{staticClass:"mui-card-content-inner"},[e("swiper",{attrs:{lunbotuList:t.photolunbotuList,isfull:!1}})],1)])]),t._v(" "),e("div",{staticClass:"mui-card"},[e("div",{staticClass:"mui-card-header"},[t._v(t._s(t.goodsInfo.title))]),t._v(" "),e("div",{staticClass:"mui-card-content"},[e("div",{staticClass:"mui-card-content-inner"},[e("p",{staticClass:"pri"},[t._v("\n                         市场价："),e("del",[t._v("￥"+t._s(t.goodsInfo.market_price))]),t._v("  \n                         销售价："),e("span",{staticClass:"now_price"},[t._v("￥"+t._s(t.goodsInfo.sell_price))])]),t._v(" "),e("p",[t._v("\n                         购买数量：\n                         "),e("numbox",{attrs:{max:t.goodsInfo.stock_quantity},on:{changeNum:t.changeCount}})],1),t._v(" "),e("p",[e("mt-button",{attrs:{type:"primary",size:"small"}},[t._v("立即购买")]),t._v(" "),e("mt-button",{attrs:{type:"danger",size:"small"},on:{click:t.addCart}},[t._v("加入购物车")])],1)])])]),t._v(" "),e("div",{staticClass:"mui-card"},[e("div",{staticClass:"mui-card-header"},[t._v("商品参数")]),t._v(" "),e("div",{staticClass:"mui-card-content"},[e("div",{staticClass:"mui-card-content-inner"},[e("p",[t._v("商品货号："+t._s(t.goodsInfo.goods_no))]),t._v(" "),e("p",[t._v("库存情况："+t._s(t.goodsInfo.stock_quantity))]),t._v(" "),e("p",[t._v("上架时间："+t._s(t._f("dateFormat")(t.goodsInfo.add_time)))])])]),t._v(" "),e("div",{staticClass:"mui-card-footer"},[e("mt-button",{attrs:{type:"primary",size:"large",plain:""},on:{click:function(n){return t.goDesc(t.id)}}},[t._v("图文介绍")]),t._v(" "),e("mt-button",{attrs:{type:"danger",size:"large",plain:""},on:{click:function(n){return t.goComment(t.id)}}},[t._v("商品评论")])],1)])]),t._v(" "),e("router-view")],1)},staticRenderFns:[]};var p=e("VU/8")(f,v,!1,function(t){e("yTvG")},"data-v-7d160ba4",null);n.default=p.exports},phfx:function(t,n){},yTvG:function(t,n){}});
//# sourceMappingURL=3.ece20e82a795a94dfccc.js.map